<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <meta name="theme-color" content="#0f172a" media="(prefers-color-scheme: dark)">
    <meta name="theme-color" content="#ffffff"  media="(prefers-color-scheme: light)">
    <title>MindMatch 4 — Adaptive Connect Four | Smart Mind Game</title>
    <meta name="description" content="MindMatch 4 is an adaptive Connect Four game. The AI learns your style and gets harder as you win. Play vs AI or local multiplayer." />
    <link rel="canonical" href="https://ravi-chandu.github.io/MindMatch4/" />
    <meta property="og:title" content="MindMatch 4 — Adaptive Connect Four" />
    <meta property="og:description" content="Beat the AI… if you can. It learns your strategy and ramps up." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://ravi-chandu.github.io/MindMatch4/" />
    <meta property="og:image" content="https://ravi-chandu.github.io/MindMatch4/og-cover.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image" content="https://ravi-chandu.github.io/MindMatch4/og-cover.png" />
    <link rel="icon" href="%BASE_URL%favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32"  href="%BASE_URL%logo-32.png" />
    <link rel="icon" type="image/png" sizes="64x64"  href="%BASE_URL%logo-64.png" />
    <link rel="apple-touch-icon" sizes="192x192" href="%BASE_URL%logo-192.png" />
    <link rel="apple-touch-icon" sizes="512x512" href="%BASE_URL%logo-512.png" />
    <link rel="manifest" href="/MindMatch4/manifest.json" />
    <style>
      body{overflow:auto}
      .hint-col { outline: 3px solid #16a34a; outline-offset: 2px; }
      .toolbar{position:fixed;left:50%;transform:translateX(-50%);bottom:14px;display:flex;gap:10px;z-index:50;background:rgba(255,255,255,.92);border:1px solid rgba(0,0,0,.08);border-radius:12px;padding:8px 12px}
      .toolbar button{padding:8px 12px;border-radius:10px;border:1px solid #d1d5db;background:#f3f4f6;color:#111827;cursor:pointer}
      .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
    </style>
    <script>
      function fitCell(){
        const vw = Math.max(document.documentElement.clientWidth,  window.innerWidth  || 0);
        const vh = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        const toolbar = document.querySelector('.toolbar')?.offsetHeight || 0;
        const padding = 40;
        const cellW = (vw - padding) / 7;
        const cellH = (vh - (toolbar + 210)) / 6;
        const size = Math.max(36, Math.min(96, Math.floor(Math.min(cellW, cellH))));
        document.documentElement.style.setProperty('--cell', size + 'px');
      }
      addEventListener('resize', fitCell);
      addEventListener('orientationchange', fitCell);
      addEventListener('DOMContentLoaded', fitCell);
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script type="module">
      import "./ai/adapter.js";
      import "./ai/mm4-plugin.js";
      import "./ai/mm4-plugin-wire.js";
      window.addEventListener("mm4:hint",   (e)=> window.gtag && gtag('event','hint_used',{count:e.detail?.best?.length||0}));
      window.addEventListener("mm4:daily",  ()=> window.gtag && gtag('event','daily_loaded'));
      window.addEventListener("mm4:aimove", (e)=> window.gtag && gtag('event','ai_move',{col:e.detail?.col}));
      window.addEventListener("mm4:gameend",(e)=> window.gtag && gtag('event','game_end',{outcome:e.detail?.outcome}));
    </script>
    <div class="toolbar">
      <button id="btnHint" aria-label="Show hint">Hint</button>
      <button id="btnDaily">Daily Puzzle</button>
      <span id="announce" aria-live="polite" class="sr-only"></span>
    </div>
  </body>
</html>
